# Coffee->JSHint

Runs your CoffeeScript source through [JSHint](http://www.jshint.com/) to check for errors.

## Installation

    npm install coffee-jshint -g

## Usage

To check some files:

    coffee-jshint file1.coffee file2.coffee ...

### Options

JSHint takes [a bunch of options](http://www.jshint.com/docs/#options) that tell it various rules to enforce or relax. Some of these don't make much sense to check for JS generated by the CoffeeScript compiler, so by default these options are turned on:

- **undef:** warns about use of undeclared variables
- **eqnull:** suppresses warnings about `== null`, which CoffeeScript uses in its generated JS
- **expr:** suppresses warnings about expressions in unexpected positions, which can only occur in generated JS when the CoffeeScript compiler does it on purpose
- **shadow:** suppresses warnings about variable shadowing, which is fine since CoffeeScript has sane scoping rules and generates safely scoped JS that uses shadowed variables
- **sub:** suppresses warnings about using bracket object lookup notation (`obj['field']`) when you could use dot notation (`obj.field`) since we're grown ups and can make our own decisions about what lookup syntax is best

To turn on more options, you can use the `--options` or `-o` flag:

    coffee-jshint -o trailing,browser,sub file1.coffee file2.coffee ...

If you really must turn off some of the default options, use the `--default-options-off` flag (you can always use `--options` to turn some back on):

    coffee-jshint --default-options-off --options undef,eqnull ...

### Bash

Coffee->JSHint plays nicely with your favorite Bash utilities. We've included a convenient example: to recursively check all `.coffee` files in a directory (excluding those in any `node_modules` subdirs):

    ./scripts/find-and-hint.sh <dir to search> <other options>

For example:

    ./scripts/find-and-hint.sh . -o node

### Git hook

To use as a git pre-commit hook to check all the files in a repo before you commit, put something like this in `.git/hooks/pre-commit`:

```bash
# Allows us to read user input below, assigns stdin to keyboard
# http://stackoverflow.com/questions/3417896/how-do-i-prompt-the-user-from-within-a-commit-msg-hook
exec < /dev/tty

# Run Coffee->JSHint
path/to/coffee-jshint/scripts/find-and-hint.sh .
if [ $? -ne 0 ]; then
  read -p "Would you like to ignore JSHint warnings and commit anyway? (y/n) " choice
  case "$choice" in
    [yY] ) exit 0;;
    [nN] ) exit 1;;
    * ) exit 1;;
  esac
fi
```
